# í”„ë¡œì íŠ¸ 'í•œì”'

RESTful ë°±ì—”ë“œ ì‹œìŠ¤í…œ ê°œë°œ ë° CI/CD ì¸í”„ë¼ êµ¬ì¶•

<div align=left><h1>ğŸ“š STACKS</h1></div>

<div align=left> 
  <img src="https://img.shields.io/badge/vue.js-4FC08D?style=for-the-badge&logo=vue.js&logoColor=white"> 
  <img src="https://img.shields.io/badge/bootstrap-7952B3?style=for-the-badge&logo=bootstrap&logoColor=white">
  <br>
  <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"> 
  <img src="https://img.shields.io/badge/css-1572B6?style=for-the-badge&logo=css3&logoColor=white"> 
  <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black"> 
  <img src="https://img.shields.io/badge/jquery-0769AD?style=for-the-badge&logo=jquery&logoColor=white">
  <br>

  <img src="https://img.shields.io/badge/java-007396?style=for-the-badge&logo=java&logoColor=white"> 
  <img src="https://img.shields.io/badge/spring-6DB33F?style=for-the-badge&logo=spring&logoColor=white"> 
  <img src="https://img.shields.io/badge/mariaDB-003545?style=for-the-badge&logo=mariaDB&logoColor=white"> 
  <br>

  <img src="https://img.shields.io/badge/linux-FCC624?style=for-the-badge&logo=linux&logoColor=black"> 
  <img src="https://img.shields.io/badge/jenkins-gray?style=for-the-badge&logo=jenkins&logoColor=white"> 
  <img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white"> 
  <br>
</div>

### í”„ë¡ íŠ¸: Vue.js, android, ios ë“± í´ë¼ì´ì–¸íŠ¸ ì¶”ê°€ ì˜ˆì •

> RESTful APIs ì„¤ê³„ë¡œ ë‹¤ì¤‘ í´ë¼ì´ì–¸íŠ¸ë¥¼ ì§€ì›í•˜ë„ë¡ ì„¤ê³„

### ë°±ì—”ë“œ: SpringFramework, Java, JPA(ORM), MariaDB

> RESTful APIs ì„¤ê³„ë¡œ ë‹¤ì¤‘ í´ë¼ì´ì–¸íŠ¸ë¥¼ ì§€ì›í•˜ë„ë¡ ì„¤ê³„

### ì¸í”„ë¼: Ubuntu20.0.4(Linux), Docker, Jenkins, Slack

> Docker, Jenkinsë¥¼ í™œìš©í•´ ìë™ ë¹Œë“œ ë° ë¬´ì¤‘ë‹¨ ë°°í¬, slackì„ í™œìš©í•œ í‘¸ì‰¬ì•Œë¦¼

<br><br>

## ì£¼ìš”ê¸°ëŠ¥ ë³€ë™ ì‚¬í•­

- 2022.06.16 í”„ë¡œì íŠ¸ ìƒì„±
- 2022.06.19 jenkinsë¥¼ í™œìš©í•œ ì§€ì†ì  í†µí•© í™˜ê²½ êµ¬ì¶• ì™„ë£Œ

<br><br>

## ë¬¸ì œë°œìƒ ë° í•´ê²°
* jenkins(Docker ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰)ì‹œ ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ë°°í¬ë¬¸ì œ
  > ë„ì»¤ë¡œ ì‹¤í–‰ëœ jenkinsì—ì„œ ìŠ¤í”„ë§ ì„œë¹„ìŠ¤ë¥¼ ì¶”ê°€ì ì¸ ë„ì»¤ ì»¨í…Œì´ë„ˆë¡œ ì‹¤í–‰í•˜ê³ ì í• ë•Œ ì´ì¤‘í™” ë˜ëŠ” ë¬¸ì œ(Docker in Docker)
  > DinDëŠ” ì‚¬ìš© ê°€ëŠ¥í•œ êµ¬ì¡°ê¸´ í•˜ì§€ë§Œ ê³µì‹ì ìœ¼ë¡  DinDë³´ë‹¤ DooDë°©ì‹ì„ ê¶Œì¥í•˜ê³  ìˆìŒ
  > DinDë¡œ ì‹¤í–‰ì‹œ ì»¨í…Œì´ë„ˆê°€ ì ˆëŒ€ì ì¸ ê¶Œí•œì„ ë¶€ì—¬ë°›ëŠ” ë“± ë³´ì•ˆìƒ ë¬¸ì œê°€ ë°©ìƒí•¨
  > ![ë„ì»¤inë„ì»¤](img_doc/docker_in_docker.png)
  > ![ë„ì»¤ out of ë„ì»¤](img_doc/docker_out_of_docker.png)
  >
  > __í•´ê²°ì±…: docker.sock íŒŒì¼ì„ jenkins ì»¨í…Œì´ë„ˆì™€ ê³µìœ í•˜ì—¬ jenkinsì»¨í…Œì´ë„ˆ ì—ì„œ Host Docker ì—”ì§„ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì„¤ê³„(Docker out of Docker)__
  
  
* jenkins ì™€ github ì—°ë™ì¤‘ ë¯¼ê°ì •ë³´ íŒŒì¼ ê´€ë¦¬
  > ê³µê°œëœ git repoì— í‚¤, ë¹„ë°€ë²ˆí˜¸ ë“± íŒŒì¼ì„ ì—…ë¡œë“œ í•˜ëŠ”ê²ƒì€ ë§¤ìš° ìœ„í—˜í•œ í–‰ë™ì´ë‹¤.
  > í•˜ì§€ë§Œ jenkinsëŠ” ì—°ê²°ëœ git repoì—ì„œ ì†ŒìŠ¤ì½”ë“œë¥¼ í´ë¡ í•˜ì—¬ ë¹Œë“œ ë™ì‘ì„ ìˆ˜í–‰í•œë‹¤.
  > ê·¸ë˜ì„œ ë¯¼ê°ì •ë³´ íŒŒì¼ì„ í˜•ìƒê´€ë¦¬ì—ì„œ ì œì™¸ ì‹œí‚¤ë©´ jenkinsëŠ” ì œëŒ€ë¡œëœ ë¹Œë“œë¥¼ ìˆ˜í–‰í•  ìˆ˜ ì—†ë‹¤.
  > 
  > __í•´ê²°ì±…: ë¯¼ê°ì •ë³´ íŒŒì¼ì„ jenkins ì»¨í…Œì´ë„ˆì— ìƒì„±í•˜ê³  ë¹Œë“œê°€ íŠ¸ë¦¬ê±°ë ë•Œ íŒŒì¼ì„ ì£¼ì…ì‹œì¼œ ë¹Œë“œì— í¬í•¨ë˜ë„ë¡ êµ¬í˜„__
  
  
* ì§€ì†ì ì¸ Reverse proxy ì ìš©
  > ë‹¤ë¥¸ docker-compose ë‹¨ìœ„ë¡œ êµ¬ì„±ëœ nginx-proxy ì»¨í…Œì´ë„ˆì™€ ê°™ì€ networksë¡œ êµ¬ì„±
  > [docker-compose](docker-compose.yml)
  > ~~~
  >  networks:
  >    {ì™¸ë¶€ë„¤íŠ¸ì›Œí¬}:
  >    external: true
  > ~~~
  > 
  > __Spring ì»¨í…Œì´ë„ˆì˜ ë°°í¬ì™€ëŠ” ë¬´ê´€í•˜ê²Œ nginx í”„ë¡ì‹œëŠ” Spring ì»¨í…Œì´ë„ˆë¥¼ í•­ìƒ ë°”ë¼ë³´ë„ë¡ êµ¬í˜„__
  
  
* Lombok Builder ì˜ëª» ì•Œê³  ì‚¬ìš©ì‹œ NullPointerException





https://spring.io/guides/gs/spring-boot-docker/
docker build --build-arg JAR_FILE=build/libs/\*.jar -t hanjan-backend .
Github íŠ¸ë¦¬ê±° í…ŒìŠ¤íŠ¸ 5íšŒì°¨
docker images auto rmi
  